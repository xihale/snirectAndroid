# JVM 内存优化：给予足够的堆内存以支持增量编译缓存
org.gradle.jvmargs=-Xmx3072m -XX:MaxMetaspaceSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8 -XX:+UseParallelGC

# --- 并行与硬件利用 ---
# 启用并行构建，充分利用多核 CPU
org.gradle.parallel=true
# 启用 Gradle Daemon（守护进程），避免冷启动
org.gradle.daemon=true
# 启用文件系统监控，加速增量构建的文件检查
org.gradle.vfs.watch=true

# --- 缓存机制 ---
# 启用构建缓存 (Build Cache)，复用 Task 输出
org.gradle.caching=true
# 启用配置缓存 (Configuration Cache)，跳过配置阶段 (AGP 9.0+ 核心特性)
org.gradle.configuration-cache=true
# 允许并行执行配置缓存的存取
org.gradle.configuration-cache.parallel=true

# --- Kotlin 编译器优化 ---
# 启用 Kotlin 增量编译
kotlin.incremental=true
# 启用 Kotlin 多平台增量编译（虽然目前是 Android 单平台，但建议开启）
kotlin.incremental.useClasspathSnapshot=true
# 在守护进程中运行 Kotlin 编译器
kotlin.compiler.execution.strategy=daemon

# --- Android 构建优化 ---
# 使用 AndroidX
android.useAndroidX=true
# 启用非传递性 R 类，大幅减少 R 类生成和 Dex 体积，加快编译
android.nonTransitiveRClass=true
# 启用 R8 完整模式 (Full Mode) 进行代码优化 (Release 构建)
android.enableR8.fullMode=true